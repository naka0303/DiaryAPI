<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.example.demo.mapper.ExchangeCommandMapper">

  <insert id="insertComment" parameterType="com.example.demo.infrastructure.exchange.request.RegisterCommentRequest">
    INSERT INTO comments
      (
        diary_id
        , comment_from
        , comment
        , created_at
      )
    VALUES
      (
        #{diaryId}
        , #{commentFrom}
        , #{comment}
        , CURRENT_TIMESTAMP
      )
  </insert>

  <insert id="insertReply" parameterType="com.example.demo.infrastructure.exchange.request.RegisterReplyRequest">
    INSERT INTO reply
      (
        comment_id
        , reply_from
        , reply_comment
        , created_at
      )
    VALUES
      (
        #{commentId}
        , #{replyFrom}
        , #{replyComment}
        , CURRENT_TIMESTAMP
      )
  </insert>
</mapper>